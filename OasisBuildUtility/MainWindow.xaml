<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="OasisBuildUtility.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:OasisBuildUtility"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Background="#F8FAFC" Margin="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="2*" MinHeight="200"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER SECTION -->
        <Border Grid.Row="0"
                Background="#FFFFFF" 
                BorderBrush="#E2E8F0" 
                BorderThickness="1" 
                CornerRadius="8" 
                Padding="12" 
                Margin="0,0,0,8">
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Center">

                <Border Background="#1E293B" 
                        CornerRadius="6" 
                        Padding="6"
                        Margin="0,0,8,0">

                    <Path Fill="White" 
                          Width="20" 
                          Height="20"
                          Stretch="Uniform"
                          Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11.03L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11.03C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"/>
                </Border>

                <TextBlock Text="Oasis Build Utility" 
                           FontSize="16" 
                           FontWeight="Bold" 
                           Foreground="#1E293B"
                           VerticalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- SOURCE PATHS SECTION -->
        <Border Grid.Row="1"
                Background="#FFFFFF" 
                BorderBrush="#E2E8F0" 
                BorderThickness="1" 
                CornerRadius="8" 
                Padding="12" 
                Margin="0,0,0,8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0"
                           Text="Source Configuration" 
                           FontSize="12" 
                           FontWeight="SemiBold" 
                           Foreground="#1E293B" 
                           Margin="0,0,0,8"/>

                <!-- Java Source Path -->
                <Grid Grid.Row="1" Margin="0,0,0,8">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0"
                               Text="Java Source Directory" 
                               FontSize="10" 
                               FontWeight="Medium" 
                               Foreground="#64748B" 
                               Margin="0,0,0,3"/>

                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0" 
                                 x:Name="JavaSourcePathTextBox" 
                                 Text="{x:Bind ViewModel.JavaSourcePath, Mode=TwoWay}" 
                                 BorderBrush="#E2E8F0"
                                 BorderThickness="1"
                                 CornerRadius="4"
                                 Padding="6"
                                 FontSize="10"
                                 Height="28"
                                 Background="White"
                                 RequestedTheme="Light"
                                 PlaceholderText="Select Java source directory..."
                                 Margin="0,0,6,0"/>
                        <Button Grid.Column="1" 
                                Content="Browse" 
                                Command="{x:Bind ViewModel.SelectJavaSourceCommand}" 
                                Background="#2563EB"
                                Foreground="White"
                                BorderBrush="#1D4ED8"
                                BorderThickness="1"
                                CornerRadius="4"
                                Padding="8,2"
                                FontWeight="SemiBold"
                                FontSize="11"
                                Height="28"
                                MinWidth="60"/>


                    </Grid>
                </Grid>

                <!-- Native Source Path -->
                <Grid Grid.Row="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0"
                               Text="Native Source Directory" 
                               FontSize="10" 
                               FontWeight="Medium" 
                               Foreground="#64748B" 
                               Margin="0,0,0,3"/>

                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0" 
                                 x:Name="NativeSourcePathTextBox" 
                                 Text="{x:Bind ViewModel.NativeSourcePath, Mode=TwoWay}" 
                                 BorderBrush="#E2E8F0"
                                 BorderThickness="1"
                                 CornerRadius="4"
                                 Padding="6"
                                 FontSize="10"
                                 Height="28"
                                 Background="White"
                                 RequestedTheme="Light"
                                 PlaceholderText="Select native source directory..."
                                 Margin="0,0,6,0"/>
                        <Button Grid.Column="1" 
                                Content="Browse" 
                                Command="{x:Bind ViewModel.SelectNativeSourceCommand}" 
                                Background="#2563EB"
                                Foreground="White"
                                BorderBrush="#1D4ED8"
                                BorderThickness="1"
                                CornerRadius="4"
                                Padding="8,2"
                                FontWeight="SemiBold"
                                FontSize="11"
                                Height="28"
                                MinWidth="60"/>


                    </Grid>
                </Grid>
            </Grid>
        </Border>

        <!-- BUILD SECTION -->
        <Border Grid.Row="2"
        Background="#FFFFFF" 
        BorderBrush="#E2E8F0" 
        BorderThickness="1" 
        CornerRadius="8" 
        Padding="12" 
        Margin="0,0,0,8">
            <StackPanel HorizontalAlignment="Center">
                <Button x:Name="BuildButton" 
                Background="#22C55E"
                Foreground="White"
                BorderThickness="0"
                CornerRadius="4"
                Padding="20,8"
                FontWeight="SemiBold"
                FontSize="13"
                Height="40"
                MinWidth="140"
                HorizontalAlignment="Center"
                Command="{x:Bind ViewModel.StartBuildCommand, Mode=OneWay}">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <FontIcon Glyph="&#xE768;" 
                          FontSize="16" 
                          Margin="0,0,6,0" 
                          Foreground="White"/>
                        <TextBlock Text="{x:Bind ViewModel.BuildButtonText, Mode=OneWay}" 
                           FontSize="13"
                           FontWeight="SemiBold" 
                           Foreground="White"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Border>



        <!-- LOG WINDOW SECTION -->
        <Border Grid.Row="3"
                Background="#FFFFFF" 
                BorderBrush="#E2E8F0" 
                BorderThickness="1" 
                CornerRadius="8" 
                Padding="0" 
                Margin="0,0,0,8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Log Header -->
                <Grid Grid.Row="0" Margin="12,12,12,6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" 
                               Text="Build Log" 
                               FontSize="12" 
                               FontWeight="SemiBold" 
                               Foreground="#1E293B"/>

                    <StackPanel Grid.Column="1" Orientation="Horizontal">
                        <Button Content="Clear"
                Background="#2563EB"
                Foreground="White"
                BorderThickness="0"
                CornerRadius="4"
                Padding="10,4"
                FontWeight="Bold"
                FontSize="11"
                Height="28"
                MinWidth="60"
                Margin="0,0,6,0"
                Command="{x:Bind ViewModel.ClearLogCommand}"/>

                        <Button Content="Export"
                Background="#2563EB"
                Foreground="White"
                BorderThickness="0"
                CornerRadius="4"
                Padding="10,4"
                FontWeight="Bold"
                FontSize="11"
                Height="28"
                MinWidth="60"/>
                    </StackPanel>
                </Grid>


                <!-- Log Display -->
                <Border Grid.Row="1" 
                        Background="#1E1E1E" 
                        CornerRadius="4" 
                        BorderBrush="#E2E8F0" 
                        BorderThickness="1"
                        Margin="12,0,12,12"
                        MinHeight="120">
                    <ScrollViewer x:Name="LogScrollViewer"
                                  HorizontalScrollBarVisibility="Auto"
                                  VerticalScrollBarVisibility="Auto"
                                  Padding="8">
                        <TextBlock x:Name="LogTextBlock"
                                   Text="{x:Bind ViewModel.LogText, Mode=OneWay}"
                                   TextWrapping="Wrap"
                                   FontFamily="Cascadia Code, Consolas, monospace"
                                   FontSize="9"
                                   Foreground="#00D7FF"
                                   LineHeight="12"/>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Border>

        <!-- STATUS SECTION -->
        <Border Grid.Row="4"
                Background="#FFFFFF" 
                BorderBrush="#E2E8F0" 
                BorderThickness="1" 
                CornerRadius="8" 
                Padding="12">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Status Info -->
                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock x:Name="OperationNameTextBlock"
                               Text="{x:Bind ViewModel.OperationStatus, Mode=OneWay}"
                               FontSize="11"
                               FontWeight="SemiBold"
                               Foreground="#1E293B"/>
                    <TextBlock Text="Build process status and progress tracking"
                               FontSize="9"
                               Foreground="#64748B"
                               Margin="0,1,0,0"/>
                </StackPanel>

                <!-- Progress Section -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center" MinWidth="120">
                    <TextBlock Text="{x:Bind ViewModel.ProgressText, Mode=OneWay}" 
                               FontSize="9" 
                               Foreground="#64748B"
                               HorizontalAlignment="Right"
                               Margin="0,0,0,3"/>
                    <ProgressBar x:Name="ProgressBar"
                                 Height="4"
                                 Minimum="0"
                                 Maximum="100"
                                 Value="{x:Bind ViewModel.ProgressValue, Mode=OneWay}"
                                 CornerRadius="2"
                                 Background="#E2E8F0"
                                 Foreground="#10B981"/>
                </StackPanel>
            </Grid>
        </Border>

    </Grid>
</Window>